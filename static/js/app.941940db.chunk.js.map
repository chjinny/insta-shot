{"version":3,"sources":["assets/logo.png","ImagePicker.js","App.js"],"names":["module","exports","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","ImageSelector","props","useEffect","a","async","Platform","OS","ImagePicker","status","alert","View","style","flex","alignItems","justifyContent","Button","title","onPress","mediaTypes","All","allowsEditing","aspect","quality","result","console","log","cancelled","file","uri","data","FormData","append","setIsLoading","axios","method","url","then","res","setImages","App","useState","images","isLoading","device","setDevice","adHeight","setAdHeight","window","mobileCheck","check","navigator","userAgent","vendor","opera","test","substr","Analytics","error","padding","minWidth","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","Image","source","logo","marginTop","marginBottom","borderRadius","flexDirection","Text","resizeMode","allowtransparency","src","frameBorder","scrolling"],"mappings":"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","file":"static/js/app.941940db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.155c0ece.png\";","import React, { useState, useEffect } from 'react';\r\nimport { Button, Image, View, Platform } from 'react-native';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport axios from 'axios';\r\nimport FormData from 'form-data'\r\n\r\nconst dataURLtoFile = (dataurl, filename) => {\r\n  const arr = dataurl.split(',')\r\n  const mime = arr[0].match(/:(.*?);/)[1]\r\n  const bstr = atob(arr[1])\r\n  let n = bstr.length\r\n  const u8arr = new Uint8Array(n)\r\n  while (n) {\r\n    u8arr[n - 1] = bstr.charCodeAt(n - 1)\r\n    n -= 1 // to make eslint happy\r\n  }\r\n  return new File([u8arr], filename, { type: mime })\r\n}\r\n\r\n\r\nexport default function ImageSelector(props) {\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (Platform.OS !== 'web') {\r\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n        if (status !== 'granted') {\r\n          alert('앱에서 사진에 접근할 수 있도록 권한을 허가해 주세요');\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const pickImage = async () => {\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(result);\r\n\r\n    if (!result.cancelled) {\r\n      const file = dataURLtoFile(result.uri)\r\n      const data= new FormData()\r\n      data.append(\"file\", file)\r\n      props.setIsLoading(true)\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://chjinny.duckdns.org:5000/process\", \r\n        data : data, \r\n      }).then((res) => {\r\n        props.setImages([result, res.data]);\r\n        props.setIsLoading(false)\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center'}}>\r\n      <Button title=\"사진 선택하기\" onPress={pickImage}/>\r\n    </View>\r\n  );\r\n}\r\n//{image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}","import { StatusBar } from 'expo-status-bar';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, Text, View, Image, Platform} from 'react-native';\r\nimport ImageSelector from './ImagePicker'\r\nimport logo from './assets/logo.png'; \r\nimport Correct from './Correct';\r\nimport { WebView } from 'react-native-webview';\r\nimport * as Analytics from 'expo-firebase-analytics';\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([null, null]);\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [device, setDevice] = useState(true)\r\n  const [adHeight, setAdHeight] = useState(90)\r\n  console.log(images)\r\n  useEffect(() =>{\r\n    window.mobileCheck = function() {\r\n      let check = false;\r\n      (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\r\n      setDevice(check)\r\n      return check;\r\n    };\r\n    if (!device){\r\n      setAdHeight(50)\r\n    }\r\n    (async function() {\r\n      try {\r\n          const anal = await Analytics.setAnalyticsCollectionEnabled(true);\r\n      } catch (e) {\r\n          console.error(e);\r\n      }\r\n    })();\r\n  }, [])\r\n  return (\r\n    <View style={{flex:1}}>\r\n      <View style={{padding : 3, minWidth: 40, alignItems : 'center',  justifyContent:'flex-start', alignItems:'center',\r\n      shadowOffset: {width: 0, height: 10 }, shadowOpacity:0.1, shadowRadius:10,\r\n      elevation: 10 \r\n      }}>\r\n        <Image source={logo} style={{width : 200, height: 100, marginTop:10,  marginBottom:10, borderRadius : 10}} /> \r\n      </View>\r\n      {isLoading ? <View style={{flex:10, flexDirection:\"row\", justifyContent:'center', alignItems:'center'}}>\r\n        <Text>사진을 보정하고 있어요. 잠시만 기다려주세요</Text>\r\n      </View>\r\n      : \r\n      <View style={{flex:10, flexDirection:\"row\"}}>\r\n        <View style={{flex:1}}>\r\n          {!images[0] ? \r\n          <View style = {{flex:1, alignItems:'center', justifyContent:'center'}}>\r\n            <Text> 사진을 선택 해 주세요</Text>\r\n          </View>\r\n          : \r\n          <Image source={{ uri: images[0].uri }} style={{flex : 1, resizeMode: 'contain'}}/>}\r\n        </View>\r\n        <View style={{alignItems:\"center\", justifyContent:\"center\", padding:10}}>\r\n          <Text>➡</Text>\r\n        </View>\r\n        <View style={{flex:1}}>\r\n          {!images[1] ? \r\n          <View style = {{flex:1, alignItems:'center', justifyContent:'center'}}>\r\n            <Text>보정된 사진이 여기에 나와요</Text>\r\n          </View> \r\n          :\r\n          <Image source={{ uri: images[1].uri }} style={{flex : 1, resizeMode: 'contain'}}/>}\r\n        </View>\r\n      </View>\r\n      }\r\n      <View style={{flex:2, padding : 10, alignItems:'center',\r\n      shadowOffset: {width: 0, height: -10 }, shadowOpacity:0.1, shadowRadius:10,\r\n      elevation: 10 \r\n    }}>\r\n        <Text>용량이 큰 사진은 오래 걸릴 수 있어요</Text>\r\n        <ImageSelector setImages={setImages} setIsLoading={setIsLoading}></ImageSelector>\r\n      </View>\r\n      <View style={{minWidth:adHeight*2, padding : 0, justifyContent:'center', alignItems:'center'}}>\r\n        <iframe  width=\"100%\" height={adHeight} allowtransparency=\"true\" src=\"https://tab2.clickmon.co.kr/pop/wp_ad_728.php?PopAd=CM_M_1003067%7C%5E%7CCM_A_1093475%7C%5E%7CAdver_M_1046207&mon_rf=REFERRER_URL\" frameBorder=\"0\" scrolling=\"no\"></iframe>\r\n        <iframe  width=\"100%\" height={adHeight} allowtransparency=\"true\" src=\"https://tab2.clickmon.co.kr/pop/wp_ad_728.php?PopAd=CM_M_1003067%7C%5E%7CCM_A_1093475%7C%5E%7CAdver_M_1046207&mon_rf=REFERRER_URL\" frameBorder=\"0\" scrolling=\"no\"></iframe>\r\n      </View>\r\n    </View>\r\n  );\r\n}"],"sourceRoot":""}